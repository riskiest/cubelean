# 引理证明（含有限性分析，最终无漏洞版）

# 一、证明命题

## （一）核心定义

设$`j \geq 1`$，集合$`\mathbb{X} = \{ (x_0, x_1, \dots, x_{j-1}) \in \mathbb{R}^j \mid 0 < x_0 < x_1 < \dots < x_{j-1} \}`$（严格递增正实数序列）。对任意$`X = (x_0, \dots, x_{j-1}) \in \mathbb{X}`$，定义函数$`f_X: \mathbb{R} \to \mathbb{R}`$如下：

1. 当$`t < 0`$时，$`f_X(t) = 0`$；

2. 当$`t = 0`$时，$`f_X(t) = 1`$；

3. 当$`t > 0`$时，$`f_X(t) = \frac{1}{6} \sum_{i=0}^{j-1} f_X(t - x_i)`$（递推公式）。

定义序列集合：

- 对$`m \in \mathbb{N}`$（$`\mathbb{N} = \{0,1,2,\dots\}`$），$`Y_X(t;m) = \{ (y_0, y_1, \dots, y_{m-1}) \mid y_k \in X,\ \sum_{k=0}^{m-1} y_k = t \}`$，其中$`m=0`$时为**空序列**$`[]`$（仅$`t=0`$时$`Y_X(0;0) = \{[]\}`$，其余$`t`$时$`Y_X(t;0) = \emptyset`$）；

- 总序列集合$`Y_X(t) = \bigcup_{m=0}^{\infty} Y_X(t;m)`$，记$`|Y_X(t;m)|`$为$`Y_X(t;m)`$的势（序列个数）。

## （二）待证结论

对任意$`t > 0`$，有：

$$f_X(t) = \sum_{m=0}^{\infty} \frac{|Y_X(t;m)|}{6^m}$$

且该求和为有限和（即存在$`M \in \mathbb{N}`$，当$`m > M`$时$`|Y_X(t;m)| = 0`$）。

# 二、证明思路

核心思路：**数学归纳法 + 最小元素分割 + 序列一一对应 + 有限性锚定**

1. **基例锚定**：以 $`t \leq 0`$ 为基例，验证等式成立的同时，明确序列长度与数目均为有限；

2. **精准分割递推**：以 $`X`$中最小元素$`x_0`$定义区间$`J_n = (n x_0, (n+1)x_0]`$（$`n \in \mathbb{N}^* `$），实现“从 $`t \leq n x_0`$到$`t \leq (n+1)x_0`$”的有序递推，修正区间定义漏洞；

3. **一一对应与有限性传递**：递推中通过“序列末尾添加 $` x_i `$”的映射建立一一对应，同时从归纳假设的有限性传递出目标序列的长度与数目有限；

4. **有限性闭环**：固定 $` t `$ 时，通过 $` x_0 `$ 确立序列长度上界，保证求和为有限和，无需额外收敛性证明。

# 三、证明过程

## （一）前提性质（x₀分割的关键作用）

设$`X`$中最小元素为$`x_0 > 0`$，对任意$`n \in \mathbb{N}`$（$`\mathbb{N} = \{0,1,2,\dots\}`$），定义区间$`J_n = (n x_0, (n+1)x_0]`$，满足：

1. **全覆盖性**：$`\mathbb{R}_{\geq0} = \{0\} \cup \bigcup_{n=1}^{\infty} J_n`$，且区间互不相交；

2. **递推收缩性**：对任意$`t \in J_n`$（$`n \geq 1`$）、任意$`x_i \in X`$，$`t - x_i \leq (n+1)x_0 - x_0 = n x_0`$（因$`x_i \geq x_0`$），即$`t - x_i \in (-\infty, n x_0]`$；

3. **长度上界性**：对固定$`t \in J_n`$，若序列$`(y_0, \dots, y_{m-1}) \in Y_X(t;m)`$，则$`m x_0 \leq \sum_{k=0}^{m-1} y_k = t \leq (n+1)x_0`$，故$`m \leq n+1`$（序列长度有上界$`n+1`$）；

4. **数目有限性**：对固定$`m`$和$`t`$，$`Y_X(t;m)`$是由$`X`$中元素组成的长度为$`m`$的有序序列集合，而$`X`$是有限集（含$`j`$个元素），有序序列数目不超过$`j^m`$，故$`|Y_X(t;m)|`$有限。

## （二）基例证明（$` t \leq 0 `$，含有限性分析）

1. **当$`t = 0`$时**：序列集合：仅$`m=0`$时$`Y_X(0;0) = \{[]\}`$，$`m \geq 1`$时$`Y_X(0;m) = \emptyset`$（序列和为正，无法等于0）；

2. 有限性：序列长度仅为 0（唯一长度），数目为 1（有限）；

3. 等式验证：求和式为$`\frac{|Y_X(0;0)|}{6^0} + \sum_{m=1}^{\infty} \frac{0}{6^m} = 1`$，与$`f_X(0) = 1`$相等。

4. **当$`t < 0`$时**：序列集合：对任意$`m \geq 0`$，$`Y_X(t;m) = \emptyset`$（序列和为非负，无法等于负数）；

5. 有限性：序列长度无有效取值，数目为 0（有限）；

6. 等式验证：求和式为$`\sum_{m=0}^{\infty} \frac{0}{6^m} = 0`$，与$`f_X(t) = 0`$相等。

**基例结论**：$`f_X(t) = \sum_{m=0}^{\infty} \frac{|Y_X(t;m)|}{6^m}`$对所有$`t \leq 0`$成立，且该求和为有限和（序列长度与数目均有限）。

## （三）归纳假设（含有限性条件）

假设对所有 $`s \leq n x_0`$（$`n \in \mathbb{N}`$），满足以下三个条件：

1. **等式成立**：$`f_X(s) = \sum_{m=0}^{\infty} \frac{|Y_X(s;m)|}{6^m}`$；

2. **序列长度有限**：存在上界$`M_s = \lfloor \frac{s}{x_0} \rfloor + 1`$（由前提性质3），当$`m > M_s`$时$`Y_X(s;m) = \emptyset`$；

3. **序列数目有限**：对每个有效长度$`m \leq M_s`$，$`|Y_X(s;m)| \leq j^m`$（由前提性质4），故总序列数目$`\sum_{m=0}^{M_s} |Y_X(s;m)|`$有限。

综上，归纳假设的求和为有限和（仅$`m \leq M_s`$时有非零项，且每一项数目有限）。

## （四）归纳递推（证明$`t \in J_{n+1} = ((n+1)x_0, (n+2)x_0]`$时成立，含有限性传递）

取任意 $`t \in J_{n+1}`$（$`t > 0`$），按以下逻辑推导：

### 1. 递推公式展开

由 $` f_X(t) `$ 的定义：

$$f_X(t) = \frac{1}{6} \sum_{i=0}^{j-1} f_X(t - x_i)$$

由前提性质2，$`t - x_i \leq (n+1)x_0`$（因$`t \leq (n+2)x_0`$，$`x_i \geq x_0`$），且$`t - x_i < t`$，故分情况讨论：

- 若$`t - x_i < 0`$：由基例，$`f_X(t - x_i) = 0`$，且$`Y_X(t - x_i;m) = \emptyset`$（长度与数目均有限）；

- 若$`t - x_i \geq 0`$：则$`t - x_i \leq (n+1)x_0`$，满足归纳假设的所有条件，即$`f_X(t - x_i) = \sum_{m=0}^{\infty} \frac{|Y_X(t - x_i;m)|}{6^m}`$，且该求和中序列长度有上界$`M_{t-x_i} = \lfloor \frac{t - x_i}{x_0} \rfloor + 1 \leq \lfloor \frac{(n+1)x_0}{x_0} \rfloor + 1 = n+2`$，数目有限。

代入后交换求和顺序（有限和交换合法，因每个内层求和均为有限和）：

$$f_X(t) = \frac{1}{6} \sum_{\substack{i=0 \\ t - x_i \geq 0}}^{j-1} \sum_{m=0}^{\infty} \frac{|Y_X(t - x_i;m)|}{6^m} = \sum_{m=0}^{\infty} \frac{1}{6^{m+1}} \sum_{\substack{i=0 \\ t - x_i \geq 0}}^{j-1} |Y_X(t - x_i;m)|$$

### 2. 序列一一对应与有限性传递

定义映射$`\phi_{i,m} : Y_X(t - x_i;m) \to Y_X(t;m+1)`$，对任意序列$`s = (y_0, \dots, y_{m-1}) \in Y_X(t - x_i;m)`$，令$`\phi_{i,m}(s) = (y_0, \dots, y_{m-1}, x_i)`$（末尾添加$`x_i`$）。

#### （1）一一对应验证

- **单射性**：若 $` \phi_{i,m}(s_1) = \phi_{i,m}(s_2) `$，则两序列末尾均为 $` x_i `$，去掉末尾元素后得 $` s_1 = s_2 `$，故单射；

- **满射性**：对任意 $` s' = (z_0, \dots, z_m) \in Y_X(t;m+1) `$，末尾元素 $` z_m = x_i \in X `$，则 $` \sum_{k=0}^{m-1} z_k = t - x_i `$，即 $` (z_0, \dots, z_{m-1}) \in Y_X(t - x_i;m) `$，且 $` \phi_{i,m}((z_0, \dots, z_{m-1})) = s' `$，故满射；

- **无交集性**：对 $` i_1 \neq i_2 `$，$` \phi_{i_1,m}(Y_X(t - x_{i_1};m)) `$ 中序列末尾为 $` x_{i_1} `$，$` \phi_{i_2,m}(Y_X(t - x_{i_2};m)) `$ 中序列末尾为 $` x_{i_2} `$，因 $` X `$ 严格递增，$` x_{i_1} \neq x_{i_2} `$，故两集合无公共元素。

综上：$`|Y_X(t;m+1)| = \sum_{\substack{i=0 \\ t - x_i \geq 0}}^{j-1} |Y_X(t - x_i;m)|`$。

#### （2）有限性传递

- **序列长度有限**：由归纳假设，$`Y_X(t - x_i;m)`$非空仅当$`m \leq M_{t-x_i} \leq n+2`$，故$`Y_X(t;m+1)`$非空仅当$`m+1 \leq n+3`$，即序列长度上界为$`n+3`$（有限）；

- **序列数目有限**：由归纳假设，每个$`|Y_X(t - x_i;m)|`$有限，而$`X`$含$`j`$个元素（求和项数有限），故$`\sum_{\substack{i=0 \\ t - x_i \geq 0}}^{j-1} |Y_X(t - x_i;m)|`$有限，即$`|Y_X(t;m+1)|`$有限。

### 3. 求和转化与等式成立

将一一对应关系代入递推式：

$$f_X(t) = \sum_{m=0}^{\infty} \frac{|Y_X(t;m+1)|}{6^{m+1}}$$

令 $` m' = m+1 `$，则 $` m' `$ 从 1 到 $` \infty `$，结合 $` t > 0 `$ 时 $` |Y_X(t;0)| = 0 `$（无空序列贡献），得：

$$f_X(t) = \sum_{m'=0}^{\infty} \frac{|Y_X(t;m')|}{6^{m'}} = \sum_{m=0}^{\infty} \frac{|Y_X(t;m)|}{6^m}$$

同时，由有限性传递可知，该求和中序列长度上界为$`n+3`$，数目有限，故为有限和。

## （五）覆盖所有 $` t > 0 `$

对任意$`t > 0`$，存在唯一$`n \in \mathbb{N}^*`$使$`t \in J_n`$。由基例（$`t \leq 0`$）和归纳递推（从$`t \leq n x_0`$推$`t \leq (n+1)x_0`$），等式对所有$`t > 0`$成立，且求和均为有限和。

# 四、最终结论

对任意 $` X \in \mathbb{X} `$、任意 $` t > 0 `$，有：

$$f_X(t) = \sum_{m=0}^{\infty} \frac{|Y_X(t;m)|}{6^m}$$

且该求和为有限和（序列长度有上界，数目有限）。


> （注：文档部分内容可能由 AI 生成）

