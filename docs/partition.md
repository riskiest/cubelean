# 定理证明：f_X(t)的组合系数求和表示

# 一、问题背景与核心命题

## （一）前置基础与已知结论

设 $j \geq 1$，定义集合 $\mathbb{X} = \{ (x_0, x_1, \dots, x_{j-1}) \in \mathbb{R}^j \mid 0 < x_0 < x_1 < \dots < x_{j-1} \}$，即由所有长度为 $j$ 的严格递增正实数序列构成的集合。对任意 $X = (x_0, x_1, \dots, x_{j-1}) \in \mathbb{X}$，函数 $f_X: \mathbb{R} \to \mathbb{R}$ 按如下规则定义：

1. 当 $t < 0$ 时，$f_X(t) = 0$；

2. 当 $t = 0$ 时，$f_X(t) = 1$；

3. 当 $t > 0$ 时，$f_X(t) = \frac{1}{6} \sum_{i=0}^{j-1} f_X(t - x_i)$（递推公式）。

同时定义序列集合 $Y_X(t;m) = \{ (y_0, y_1, \dots, y_{m-1}) \mid y_k \in X,\ \sum_{k=0}^{m-1} y_k = t \}$（$m \in \mathbb{N} = \{0,1,2,\dots\}$），其中 $m=0$ 对应空序列 $[]$，仅当 $t=0$ 时 $Y_X(0;0) = \{[]\}$，其余情况 $Y_X(t;0) = \emptyset$。

**已知结论**：对任意 $t > 0$，函数 $f_X(t)$ 可表示为有序序列计数的加权和：

$$
f_X(t) = \sum_{m=0}^{\infty} \frac{|Y_X(t;m)|}{6^m}
$$

其中 $|Y_X(t;m)|$ 表示集合 $Y_X(t;m)$ 的势，即由 $X$ 中元素组成、长度为 $m$ 且和为 $t$ 的有序序列个数。

## $Y_X(t;m)$ 的组合本质，诱导定义组合集合 $K_X(t)$：

$$
K_X(t) = \{ (k_0, k_1, \dots, k_{j-1}) \mid k_i \in \mathbb{N},\ \sum_{i=0}^{j-1} k_i x_i = t \}
$$

其中 $k_i$ 表示元素 $x_i$ 在组合中的使用次数，记 $n = \sum_{i=0}^{j-1} k_i$（所有元素的总使用次数，即对应序列的长度），$\binom{n}{k_0, k_1, \dots, k_{j-1}} = \frac{n!}{k_0! \cdot k_1! \cdot \dots \cdot k_{j-1}!}$ 为多项式系数（表示将 $n$ 个元素按 $k_0, k_1, \dots, k_{j-1}$ 的数量拆分的有序排列数）。

**待证定理**：对任意 $t > 0$，有

$$
f_X(t) = \sum_{(k_0, k_1, \dots, k_{j-1}) \in K_X(t)} \frac{\binom{\sum_{i=0}^{j-1} k_i}{k_0, k_1, \dots, k_{j-1}}}{6^{\sum_{i=0}^{j-1} k_i}}


1. **序列分类锚定**：对固定 $t > 0$，将所有满足条件的有序序列 $Y_X(t) = \bigcup_{m=0}^{\infty} Y_X(t;m)$ 按"各元素使用次数"分类，每一类恰好对应 $K_X(t)$ 中的一个组合；

2. **计数对应核心**：对 $K_X(t)$ 中任意组合 $(k_0, \dots, k_{j-1})$，计算其对应的有序序列个数——该个数等价于多项式系数（将 $k_0$ 个 $x_0$、$k_1$ 个 $x_1$、…、$k_{j-1}$ 个 $x_{j-1}$ 排列的所有可能方式）；

3. **有限性保障**：由 $X$ 中最小元素 $x_0 > 0$，固定 $t$ 时组合的总使用次数 $n = \sum k_i \leq \frac{t}{x_0}$，故 $K_X(t)$ 为有限集，求和均为有限和，交换求和顺序合法；

4. **等式推导闭环**：将已知结论中"按序列长度 $m$ 的求和"转化为"按组合 $(k_0, \dots, k_{j-1})$ 的求和"，完成从有序序列计数到组合系数求和的转化。”分类，每一类恰好对应$K_X(t)$中的一个组合；

2. **计数对应核心**：对$K_X(t)$中任意组合$(k_0, \dots, k_{j-1})$，计算其对应的有序序列个数——该个数等价于多项式系数（将$k_0$个$x_0$、$k_1$个$x_1$、…、$k_{j-1}$个$x_{j-1}$排列的所有可能方式）；

3. **有限性保障**：由$X$中最小元素$x_0 > 0$，固定$t$时组合的总使用次数$n = \sum k_i \leq \frac{t}{x_0}$，故$K_X(t)$为有限集，求和均为有限和，交换求和顺序合法；

4. **等式推导闭环**：将已知结论中“按序列长度$m$的求和”转化为“按组合$(k_0, \dots, k_{j-1})$的求和”，完成从有序序列计数到组合系数求和的转化。

# 三、详细证 $m$，考虑 $Y_X(t;m)$ 中所有有序序列的结构，建立其与 $K_X(t)$ 中组合的对应关系，进而得到 $|Y_X(t;m)|$ 的组合表示。

### 1. 序列到组合的映射（分类规则）

任取有序序列 $s = (y_0, y_1, \dots, y_{m-1}) \in Y_X(t;m)$，定义映射 $\psi: Y_X(t) \to K_X(t)$，对序列 $s$ 指派组合 $\psi(s) = (k_0, k_1, \dots, k_{j-1})$，其中 $k_i = \#\{ 0 \leq p \leq m-1 \mid y_p = x_i \}$（即 $x_i$ 在序列 $s$ 

### 1. 序列到组合的映射（分类规则）

任取有序序列$s = (y_0, y_1, \dots, y_{m-1}) \in Y_X(t;m)$，定义映射$\psi: Y_X(t) \to K_X(t)$，对序列$s$指派组合$\psi(s) = (k_0, k_1, \dots, k_{j-1})$，其中$k_i = \#\{ 0 \leq p \leq m-1 \mid y_p = x_i \}$（即$x_i$在序列$s$中出现的次数）。

验证该映射的合理性：

- **非负整数性**：次数 $k_i$ 是序列中元素的计数，故 $k_i \in \mathbb{N}$；

- **和为 $t$ 性**：序列和 $\sum_{p=0}^{m-1} y_p = \sum_{p=0}^{m-1} x_{i_p} = \sum_{i=0}^{j-1} k_i x_i = t$，故 $\psi(s) \in K_X(t)$；

- **长度匹配性**：序列总长度 $m = \sum_{p=0}^{m-1} 1 = \sum_{i=0}^{j-1} k_i$，即组合对应的总使用次数等于序列长度。

### 2. 组合到序列的逆映射（计数规则）

对任意组合 $\mathbf{k} = (k_0, k_1, \dots, k_{j-1}) \in K_X(t)$，记 $n = \sum_{i=0}^{j-1} k_i$（总使用次数），定义集合 $S(\mathbf{k}) = \{ s \in Y_X(t;n) \mid \psi(s) = \mathbf{k} \}$，即所有对应组合为 $\mathbf{k}$ 的有序序列。

计算 $|S(\mathbf{k})|$（集合 $S(\mathbf{k})$ 的势）：

集合 $S(\mathbf{k})$ 中的序列，本质是将 $k_0$ 个 $x_0$、$k_1$ 个 $x_1$、…、$k_{j-1}$ 个 $x_{j-1}$ 进行有序排列的所有结果。该排列数等价于多项式系数——从 $n$ 个位置中选择 $k_0$ 个放置 $x_0$，再从剩余 $n - k_0$ 个位置中选择 $k_1$ 个放置 $x_1$，依此类推，最终的排列数为：

$$
\binom{n}{k_0} \cdot \binom{n - k_0}{k_1} \cdot \binom{n - k_0 - k_1}{k_2} \cdot \dots \cdot \binom{k_{j-1}}{k_{j-1}} = \frac{n!}{k_0! \cdot k_1! \cdot \dots \cdot k_{j-1}!} = \binom{n}{k_0, k_1, \dots, k_{j-1}}
$$

因此，$|S(\math$|Y_X(t;m)|$ 的组合分解

对固定 $m$，集合 $Y_X(t;m)$ 可按映射 $\psi$ 分解为互不相交的子集 $\{ S(\mathbf{k}) \mid \mathbf{k} \in K_X(t),\ \sum_{i=0}^{j-1} k_i = m \}$（因不同组合对应的序列分类互不重叠）。根据集合的势的可加性：

$$
|Y_X(t;m)| = \sum_{\substack{\mathbf{k} \in K_X(t) \\ \sum_{i=0}^{j-1} k_i = m}} |S(\mathbf{k})| = \sum_{\substack{(k_0, \dots, k_{j-1}) \in K_X(t) \\ \sum_{i=0}^{j-1} k_i = m}} \binom{m}{k_0, k_1, \dots, k_{j-1}}


$$|Y_X(t;m)| = \sum_{\substack{\mathbf{k} \in K_X(t) \\ \sum_{i=0}^{j-1} k_i = m}} |S(\mathbf{k})| = \sum_{\substack{(k_0, \dots, k_{j-1}) \in K_X(t) \\ \sum_{i=0}^{j-1} k_i = m}} \binom{m}{k_0, k_1, \dots, k_{j-1}}$$

## （二）求和顺序交换与等式推导

基于已知结论和上述引理，通过交换求和顺序完成待证定理的推导。 $|Y_X(t;m)|$ 的组合分解式代入，得：

$$
f_X(t) = \sum_{m=0}^{\infty} \left( \frac{1}{6^m} \cdot \sum_{\substack{(k_0, \dots, k_{j-1}) \in K_X(t) \\ \sum_{i=0}^{j-1} k_i = m}} \binom{m}{k_0, \dots, k_{j-1}} \right)


由已知结论，$f_X(t) = \sum_{m=0}^{\infty} \frac{|Y_X(t;m)|}{6^m}$。将引理中$|Y_X(t;m)|$的组合分解式代入，得：

- **组合集合有限**：对固定 $t > 0$，任取 $\mathbf{k} = (k_0, \dots, k_{j-1}) \in K_X(t)$，因 $x_0 > 0$ 且 $x_i \geq x_0$，故 $\sum_{i=0}^{j-1} k_i x_i = t \geq \sum_{i=0}^{j-1} k_i x_0 = x_0 \cdot \sum k_i$，即 $\sum k_i \leq \frac{t}{x_0}$。总使用次数有上界，故满足条件的组合个数有限，即 $K_X(t)$ 为有限集；

- **长度求和有限**：对固定 $m$，满足 $\sum k_i = m$ 的组合个数有限（因 $K_X(t)$ 有限），且每个组合对应的多项式系数有限，故内层求和为有限和；

需验证“先对组合求和，再对长度求和”的交换操作合法，核心依据是**求和的有限性**：

- **组合集合有限**：对固定$t > 0$，任取$\mathbf{k} = (k_0, \dots, k_{j-1}) \in K_X(t)$，因$x_0 > 0$且$x_i \geq x_0$，故$\sum_{i=0}^{j-1} k_i x_i = t \geq \sum_{i=0}^{j-1} k_i x_0 = x_0 \cdot \sum k_i$，即$\sum k_i \leq \frac{t}{x_0}$。总使用次数有上界，故满足条件的组合个数有限，即$K_X(t)$为有限集；

对每个组合 $\mathbf{k} = (k_0, \dots, k_{j-1}) \in K_X(t)$，其唯一对应 $m = \sum_{i=0}^{j-1} k_i$（总使用次数），因此可将求和顺序交换为"先遍历所有组合，再对应到其唯一的长度 $m$"：

$$
f_X(t) = \sum_{(k_0, \dots, k_{j-1}) \in K_X(t)} \left( \binom{\sum_{i=0}^{j-1} k_i}{k_0, \dots, k_{j-1}} \cdot \frac{1}{6^{\sum_{i=0}^{j-1} k_i}} \right)
$$

即：

$$
f_X(t) = \sum_{(k_0, k_1, \dots, k_{j-1}) \in K_X(t)} \frac{\binom{\sum_{i=0}^{j-1} k_i}{k_0, k_1, \dots, k_{j-1}}}{6^{\sum_{i=0}^{j-1} k_i}}
$$ $K_X(t) = \emptyset$（即 $t$ 无法表示为 $X$ 中元素的非负整数线性组合），验证等式成立：

- 若 $K_X(t) = \emptyset$，则对任意 $m \in \mathbb{N}$，满足 $\sum k_i = m$ 的组合不存在，故 $|Y_X(t;m)| = 0$，由已知结论得 ots, k_{j-1}} \cdot \frac{1}{6^{\sum_{i=0}^{j-1} k_i}} \right)$$

即：

$$f_X(t) = \sum_{(k_0, k_1, \dots, k_{j-1}) \in K_X(t)} \frac{\binom{\sum_{i=0}^{j-1} k_i}{k_0, k_1, \dots, k_{j-1}}}{6^{\sum_{i=0}^{j-1} k_i}}$$

综合上述推导与验证，对任意 $X = (x_0, \dots, x_{j-1}) \in \mathbb{X}$ 及任意 $t > 0$，函数 $f_X(t)$ 的组合系数求和表示成立：

$$
f_X(t) = \sum_{(k_0, k_1, \dots, k_{j-1}) \in K_X(t)} \frac{\binom{\sum_{i=0}^{j-1} k_i}{k_0, k_1, \dots, k_{j-1}}}{6^{\sum_{i=0}^{j-1} k_i}}
$$

该结论揭示了 $f_X(t)$ 的组合本质——其值等于所有能表示 $t$ 的元素组合对应的"有序排列概率"之和，每个组合的概率为"排列数 × 单次选择概率 $6^{-n}$"（$n$ 为总选择次数）。$f_X(t) = 0$；

- 等式右边为对空集求和，结果为0，与左边相等，等式成立。

# 四、最终结论

综合上述推导与验证，对任意$X = (x_0, \dots, x_{j-1}) \in \mathbb{X}$及任意$t > 0$，函数$f_X(t)$的组合系数求和表示成立：

$$f_X(t) = \sum_{(k_0, k_1, \dots, k_{j-1}) \in K_X(t)} \frac{\binom{\sum_{i=0}^{j-1} k_i}{k_0, k_1, \dots, k_{j-1}}}{6^{\sum_{i=0}^{j-1} k_i}}$$

该结论揭示了$f_X(t)$的组合本质——其值等于所有能表示$t$的元素组合对应的“有序排列概率”之和，每个组合的概率为“排列数 × 单次选择概率$6^{-n}$”（$n$为总选择次数）。


> （注：文档部分内容可能由 AI 生成）